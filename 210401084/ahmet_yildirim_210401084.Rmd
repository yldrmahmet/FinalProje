---
title: "Proje Rapor : Ahmet Yildirim 210401084."
author: "ahmet yildirim"
date: "2024-01-17"
output:
  html_document:
    df_print: paged
  pdf_document: default
---

# Q1 : Problem Tanımı

Şirketimiz **Yıldırım Bilişim**. Projemiz kişiye özel egzersiz programı uygulamasıdır.

# Q2 : Proje Amacı

Amacımız son dönemlerde ülkemizde artan ve bilimsel veriler ışığında gelecekte daha da artacağı tahmin edilen obezite, diyabet, tansiyon, postür bozuklukları, kifoz, skolyoz, vb. hastalıklara karşı yardımcı bir tedavi oluşturmaktır. Bu hastalıkların artacağını öngördüğümüz için uygulamaya talebin yüksek olacağını düşünüyoruz, aynı zamanda ülkemiz insanına da yararlı olmak istiyoruz.

Uygulamada kişinin sahip olduğu hastalık ve diğer bilgiler (yaş, cinsiyet, boy, kilo, vb.) baz alınarak özel bir antrenman programı oluşturulacaktır. Oluşturulan bu antrenman programının hedefi kişinin hayat kalitesini arttırmak, sahip olduğu hastalığı mümkün olduğu ölçüde tedavi etmek ve kişiye spor alışkanlığı kazandırmaktır.

# Q3 : Veri seti keşifsel analizi

```{r echo=FALSE, message=FALSE, warning=FALSE}
verisetiBaslangic <- "fitness_exercises.csv"
library(readr)
veriseti <- read_csv(verisetiBaslangic)
```

# Veri seti boyutları

-   Satır sayısı: `r nrow(veriseti)`

-   Sütun sayısı: `r ncol(veriseti)`

    1.  sütunda vücudun hangi bölgesini kullanarak egzersizin yapıldığı,

    2.  sütunda hangi ekipmanla egzersizin yapıldığı,

    3.  sütunda egzersizin yapılışın gif olarak gösterimi,

    4.  sütunda egzersizin id numarası,

    5.  sütunda egzersizin ismi,

    6.  sütunda egzersizin vücutta etki ettiği kas grubunun ismi verilmiş.

    Biz projemizi hazırlarken tüm sütunları kullandık. Herhangi bir sütunu çıkarmaya veya eklemeye gerek duymadık. Veri setimizdeki tüm sutunlar karakter veri tipiydi. Projenin ilerleyen kısımlarında bazı sütunları gerektiğinde faktör ve nümerik veri tiplerine çevirdik. Veri setinde anlamsız veya yanlış bir veri yoktu.

Veri setininin genel görünümü aşağıda verilmiştir. Bu veri seti üzerinde çalıştık. Fikir sahibi olmak için inceleyebilirsiniz.

```{r echo=FALSE, message=FALSE, warning=FALSE}
veriseti
```

Uygulamamızda kullanıcıya özel filtreleme sistemleri kullanıyoruz ve en uygun egzersiz programını sunuyoruz. Karşınızda küçük bir filtreleme örneği, yanlızca vücut ağırlığıyla yapılacak egzersizler:

```{r echo=FALSE, message=FALSE, warning=FALSE}
# "equipment" değeri "body weight" olanları filtrele
filtreli_veri <- veriseti[veriseti$equipment == "body weight", ]

# Sonucu ekrana yazdır
filtreli_veri
```

Uygulamamızda vücudunuzun her bölgesi için yeteri sayıda egzersiz bulunuyor. İşte \*\* vücut bölgelerine göre egzersiz sayılarını \*\* gösteren bir grafik:

```{r  echo=FALSE, message=FALSE, warning=FALSE}
# bodyPart sütunundaki elemanların frekanslarını hesapla
bodyPart_frekans <- table(veriseti$bodyPart)

par(mar = c(10, 5, 4, 2) + 0.1)  # Grafik kenar boşluklarını ayarla
barplot(bodyPart_frekans, main="Vücut bölgelerine göre egzersiz sayısı dağılımı", xlab="", ylab="Frekans", col="skyblue", las=2)
```

Uygulamamızda vücudunuzun her bölgesi için yeteri sayıda egzersiz bulunduğunu söylemiştik. Elinizde az ekipman olsa bile çok sayıda egzersiz önerisi alacağınızdan emin olabilirsiniz. Herkesin ekipmanı olmayacağını düşündüğümüz için ekipmansız egzersizlere ağırlık verdik. Grafikten inceleyebilirsiniz:

```{r echo=FALSE, message=FALSE, warning=FALSE}
# equipment sütunundaki elemanların frekanslarını hesapla
equipment_frekans <- table(veriseti$equipment)

# Sıklığı 30'dan fazla olanları filtrele
equipment_frekans_filtreli <- equipment_frekans[equipment_frekans >= 30]

# Grafiği sola kaydır
par(mar=c(5,5,2,2))  # Grafik kenar boşluklarını ayarla

# Pie grafiğini çiz
pie(equipment_frekans_filtreli, main="Ekipmanlara göre egzersiz sayısı dağılımı", col=rainbow(length(equipment_frekans_filtreli)))

# Değerleri grafiğin merkezine yaz
text(0, 0, equipment_frekans_filtreli, cex=0.8, col="white", font=2)
```

Vücuttaki hedeflenen kas bölgelerine göre egzersiz sayılarını da bir tablo haline getirdik. Zayıf olduğunuz kasları tespit edip güçlendirme egzersizleri de öneriyoruz.

```{r  echo=FALSE, message=FALSE, warning=FALSE}
# target sütunundaki elemanların frekanslarını hesapla
target_frekans <- table(veriseti$target)

# Frekansları tablo halinde göster
target_tablo <- as.data.frame(target_frekans)
colnames(target_tablo) <- c("Hedef Kas Grubu", "Toplam Egzersiz Sayısı")
target_tablo
```

```{r, echo=FALSE, message=FALSE, warning=FALSE, include=FALSE}
# Gerekli kütüphaneleri yükle
library(testthat)
# Test dosyasını çağır
testthat::test_file("tests/Q1_tests_ahmet_yildirim_210401084.R")
```


# Q4: Veri seti ön işlemesi

Görüldüğü üzere zaten veri setinde NA değer yoktu. 10 adet farklı vücut bölgesi üzerinde, 28 farklı ekipman kullanarak kullanıcılarımız için egzersiz programları hazırladık.

```{r echo=FALSE, message=FALSE, warning=FALSE}

# Kategori bilgisi içeren sütunu factor tipine çevirme
veriseti$bodyPart <- as.factor(veriseti$bodyPart)


# Belirli bir sütundaki NA değerleri temizleme (örneğin, target sütunu)
veriseti <- veriseti[complete.cases(veriseti$target), ]

# Özet Rapor
summary_df <- data.frame(
  NAs_before = sum(is.na(veriseti)),
  NAs_after = sum(is.na(veriseti[complete.cases(veriseti), ])),
  unique_values_bodyPart = length(unique(veriseti$bodyPart)),
  unique_values_equipment = length(unique(veriseti$equipment))
)

# Raporu gösterme
print(summary_df)


```


```{r, echo=FALSE, message=FALSE, warning=FALSE, include=FALSE}
# Gerekli kütüphaneleri yükle
library(testthat)
# Test dosyasını çağır
testthat::test_file("tests/Q1_tests_ahmet_yildirim_210401084.R")
```

# Q5 : Veri mühendisliği

Veri setinin istatistiksel özetini inceleyebilirsiniz:

```{r echo=FALSE, message=FALSE, warning=FALSE}
# Veri setinin özet istatistikleri
summary(veriseti)
```

Bu bölümde spesifik bilgiler hazırladık.

Aşağıda vücut bölgesine özel, ekipman kullanım sıklığını gösteren bir grafiği inceleyebilirsiniz:

```{r echo=FALSE, message=FALSE, warning=FALSE}
# ggplot2 paketini yükle
library(ggplot2)

# BodyPart'a göre ekipman kullanımı
ggplot(veriseti, aes(x = bodyPart, fill = equipment)) +
  geom_bar(position = "dodge") +
  labs(title = "Vücut Bölgesine Göre Ekipman Kullanımı", x = "BodyPart", y = "Count") +
  theme_minimal() +
  theme(axis.text.x = element_text(angle = 45, hjust = 1))  # x eksenindeki etiketleri 45 derece açıyla çiz

```

Bu grafik ise , vücut bölgelerine göre hedeflenen kasların isimlerini içermektedir.

```{r echo=FALSE, message=FALSE, warning=FALSE}
# ggplot2 paketini yükle
library(ggplot2)

# BodyPart'a göre hedef kas bölgeleri
ggplot(veriseti, aes(x = bodyPart, fill = target)) +
  geom_bar(position = "dodge") +
  labs(title = "Vucut Bolgelerine Gore Hedef Kas Bolgeleri", x = "BodyPart", y = "Count") +
  theme_minimal() +
  theme(axis.text.x = element_text(angle = 45, hjust = 1))  # x eksenindeki etiketleri 45 derece açıyla çiz
```


```{r, echo=FALSE, message=FALSE, warning=FALSE, include=FALSE}
# Gerekli kütüphaneleri yükle
library(testthat)
# Test dosyasını çağır
testthat::test_file("tests/Q1_tests_ahmet_yildirim_210401084.R")
```



# Q6: Veri Analizi

Girilen bilgilere göre (yaş, cinsiyet, hastalık, vs.) egzersiz programı önermeyi bu bölümde yaptık.\
R markdown dosyasında olduğumuz için 5 örnek insandan rastgele veriler alıyoruz. ( Projeyi her çalıştırdığınızda alacağınız sonuçlar farklılık gösterecektir, çünkü veriler rastgele oluşuyor.) Uygulamada kullanıcılar bilgilerini girecek ve gerekli algoritma çalıştıktan sonra kişiye özel egzersiz programı çıktısı verilecektir.

```{r echo=FALSE, message=FALSE, warning=FALSE}
# Gerekli paketi yükleyin
library(dplyr)

# Sahte kişiler oluştur, uygulamayı denemek için
rastgele_tamsayi <- sample(1:100, size = 1)
n_obs <- 5
set.seed(rastgele_tamsayi)  # Rastgelelik kontrolü
sahte_veri <- data.frame(
  Yas = sample(18:40, n_obs, replace = TRUE),
  Cinsiyet = sample(c("Erkek", "Kadın"), n_obs, replace = TRUE),
  Boy = sample(160:190, n_obs, replace = TRUE),
  Kilo = sample(60:90, n_obs, replace = TRUE),
  Hastalik = sample(c("Evet", "Hayır"), n_obs, replace = TRUE)
)

# Fonksiyon tanımlama
egzersiz_oneri <- function(yas, cinsiyet, hastalik) {
  if (yas <= 30) {
    if (cinsiyet == "Erkek") {
      if (hastalik == "Evet") {
        print("30 yaşından küçük, erkek ve hasta")
        # Cardio ve body weight egzersizleri
        filtrelenmis_egzersizler <- subset(veriseti, bodyPart == "cardio" & equipment == "body weight")
        print(filtrelenmis_egzersizler)
      } else {
        print("30 yaşından küçük, erkek ve hasta değil")
        # Dumbell, barbell, cable, smith machine egzersizleri
        filtrelenmis_egzersizler <- subset(veriseti, equipment %in% c("dumbell", "barbell", "cable", "smith machine"))
        print(filtrelenmis_egzersizler)
      }
    } else {
      if (hastalik == "Evet") {
        print("30 yaşından küçük, kadın ve hasta")
        # Cardio, body weight ve band egzersizleri
        filtrelenmis_egzersizler <- subset(veriseti, bodyPart == "cardio" & (equipment == "body weight" | equipment == "band"))
        print(filtrelenmis_egzersizler)
      } else {
        print("30 yaşından küçük, kadın ve hasta değil")
        # Body weight, upper legs, kettlebell, band egzersizleri
        filtrelenmis_egzersizler <- subset(veriseti, equipment %in% c("body weight", "upper legs", "kettlebell", "band"))
        print(filtrelenmis_egzersizler)
      }
    }
  } else {
    if (cinsiyet == "Erkek") {
      if (hastalik == "Evet") {
        print("30 yaşından büyük, erkek ve hasta")
        # Spor yapmaya uygun değil, eğer kalp hastasıysanız lütfen uygulamayı kullanmayın
      } else {
        print("30 yaşından büyük, erkek ve hasta değil")
        # Dumbell, barbell, cable, smith machine, ez barbell, leverage machine egzersizleri
      }
    } else {
      if (hastalik == "Evet") {
        print("30 yaşından büyük, kadın ve hasta")
        # Medicine ball ve cardio egzersizleri
      } else {
        print("30 yaşından büyük, kadın ve hasta değil")
        # Diğer durumlar
      }
    }
  }
}

# Örnek kullanım
for (i in 1:nrow(sahte_veri)) {
  egzersiz_oneri(sahte_veri$Yas[i], sahte_veri$Cinsiyet[i], sahte_veri$Hastalik[i])
  cat("\n\n")
}

```


# Q7: Sonuç Değerlendirme, Tavsiyeler

Bu projede kullanıcılara özel bir egzersiz deneyimi yaşatmak hedeflenmiştir.\
Proje tanımı ve amacı yediden yetmişe her kesimden insana hitap etmektedir.\
Proje hakkında ayrıntılı ve özet bilgiler yukarıdaki alanlarda paylaşılmıştır.\
Günlük hayattan gerçek bir problem ele alınmış, gerçek bir veri seti kullanılmıştır.\
Proje anlatımında çeşitli grafikler ve istatistiksel veriler kullanılmıştır.\

**Tavsiyeler**

1.  *Lütfen düzenli şekilde antrenman programının takip edilmesi gerektiği,*
2.  *Kas gelişiminin veya hastalıklarla mücadelenin uzun bir süreç olduğu,*
3.  *Egzersizlerin yanlış yapıldığında kötü sonuçlar doğurabileceği,*
4.  *Her ne kadar kişiye özel antrenman programı sunuluyor olsa da programın insan eliyle yapıldığı ve bu yüzden hatalarla karşılaşılabileceği* *kullanıcılarla paylaşılmalıdır.*
